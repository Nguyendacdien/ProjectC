{% extends "base.html" %}

{% block content %}

<h1 style="margin-top: 80px; color: #333; font-family: Arial, sans-serif; text-align: center;">
    List of Books
</h1>

{% if books %}
<ul
    style="list-style: none; padding: 0; display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; font-family: Arial, sans-serif; margin: 20px;">
    {% for book in books %}
    <a href="{{ url_for('view_book', username=username, book_id=book._id) }}"
        style="text-decoration: none; color: inherit;">
        <li style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); overflow: hidden; transition: transform 0.2s, box-shadow 0.2s;"
            onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.2)';"
            onmouseout="this.style.transform='none'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';">
            <img src="{{ book.cover_image }}" alt="Cover Image" onerror="this.src='/static/images/default_cover.jpg'"
                style="width:100%; height:250px; object-fit:cover;">
            <div class="title"
                style="font-weight: bold; font-size: 1.1rem; margin: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                {{ book.title }}</div>
            <div class="author" style="font-size: 0.9rem; margin: 0 10px 10px 10px; color: #777;">{{ book.author }}
            </div>
            <!-- Nút lưu sách -->
            <form action="{{ url_for('save_book', username=username, book_id=book._id) }}" method="POST">
                <button type="submit"
                    style="background-color: #4CAF50; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px; width: 100%; font-size: 1rem; margin-top: 10px;">
                    Lưu sách
                </button>
            </form>

        </li>
    </a>
    {% endfor %}
</ul>
{% else %}
<p style="text-align: center; margin-top: 80px; font-family: Arial, sans-serif;">No books found.</p>
{% endif %}

{% endblock %}